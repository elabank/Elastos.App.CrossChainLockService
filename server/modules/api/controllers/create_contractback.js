import web3 from 'services/web3'
// import keyth from 'keythereum'
import Tx from 'ethereumjs-tx'
exports.details = async function  (req,res) {


    // ----------- 0
    // const myContract = new web3.eth.Contract([{"constant":false,"inputs":[{"name":"x","type":"uint256"}],"name":"set","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]);
    // myContract.options.address = '0x6d30bb8f1eea438767cd1a8605fecaecfc93de2d';
    // await myContract.methods.get().call({from: '0x8bd4ca7b65ac97f43aeb9d2e929ea65fe277890f'},(error, result) => {
    //     console.info(error,result);
    // });
    // console.info(1123);

//     const privateKey = new Buffer('3684b52389d64a26a98e444819699de00ad7fa15260cd2b7d5f5883a30e2356c', 'hex')
//
// //some other articles told use getData method , but getData is undefined. so is use request instead.
//     let payloadData = myContract.methods.set(123).encodeABI();
//     const nonce = await web3.eth.getTransactionCount('0xfb1d50f55184653c153832f69f54b2354dab6572')
//     let rawTx = {
//         nonce: nonce,
//         gasPrice: '0x174876E899',
//         gasLimit: '0x271999',
//         from:   '0xfb1d50f55184653c153832f69f54b2354dab6572',
//         to:myContract.options.address,
//         data:   payloadData
//     };
//
//     var tx = new Tx(rawTx);
//     tx.sign(privateKey);
//
//     var serializedTx = '0x' + tx.serialize().toString('hex');
//     const rec = web3.eth.sendSignedTransaction(serializedTx, function(err, hash) {
//         if (!err){
//             console.log('transaction hash : ',hash);
//         } else {
//             console.error('error is ',err);
//         }
//     });
//     console.info(rec);


    //-------------- 1
    // const privateKey = new Buffer('3684b52389d64a26a98e444819699de00ad7fa15260cd2b7d5f5883a30e2356c', 'hex')
    //
    // const nonce = await web3.eth.getTransactionCount('0xfb1d50f55184653c153832f69f54b2354dab6572');
    // let rawTx = {
    //     nonce:  nonce,
    //     gasPrice: '0x174876E899',
    //     gasLimit: '0x271999',
    //     data: '0x608060405261270f60005534801561001657600080fd5b5060e6806100256000396000f3fe6080604052600436106043576000357c01000000000000000000000000000000000000000000000000000000009004806360fe47b11460485780636d4ce63c14607f575b600080fd5b348015605357600080fd5b50607d60048036036020811015606857600080fd5b810190808035906020019092919050505060a7565b005b348015608a57600080fd5b50609160b1565b6040518082815260200191505060405180910390f35b8060008190555050565b6000805490509056fea165627a7a723058202c2ddfdb7cd2e477ca1ec4677bbb1e2cd04b9e01a0b3353a1d286f5f9364a6d90029'
    // };
    //
    // const tx = new Tx(rawTx);
    // tx.sign(privateKey);
    //
    // const serializedTx = tx.serialize();
    // const txHash = await web3.utils.sha3(serializedTx);
    // console.info(txHash);
    // // on receipt is super slow.
    // // web3.eth.sendSignedTransaction('0x' + serializedTx.toString('hex')).on('receipt', function (receipt) {
    // //     console.info("hey, finally here :" , receipt);
    // // });
    //
    // web3.eth.sendSignedTransaction('0x' + serializedTx.toString('hex')).on('transactionHash', function (transactionHash) {
    //     console.info("hey, finally here :" , transactionHash);
    // }).once('confirmation', function(confNumber, receipt){
    //     console.info("here : " , confNumber,receipt)
    // });

    //     .on('confirmation',(confirmationNumber)=>{
    //     console.info('confirmed')
    //     return
    // })
    //     .once('receipt', function(receipt){
    //     console.info("once :" + receipt);
    // }
    // );
    //-------------1 end

    // -------------2
    // var keyobj=keyth.importFromFile('0xfb1d50f55184653c153832f69f54b2354dab6572','/Users/clark/Library/ELA_Ethereum');
    //
    // var privateKey=keyth.recover('elastos',keyobj);
    //
    // console.info(privateKey.toString('hex'));
// 3684b52389d64a26a98e444819699de00ad7fa15260cd2b7d5f5883a30e2356c
    // ------------ end 2

    // ------------3
    // let data = web3.utils.soliditySha3('clark1');
    // res.send(JSON.stringify(data));
    // let address= "0x8bd4ca7b65ac97f43aeb9d2e929ea65fe277890f";
    // const acc = web3.eth.accounts.decrypt({"address": "fb1d50f55184653c153832f69f54b2354dab6572", "crypto": {"cipher": "aes-128-ctr", "cipherparams": {"iv": "c7378688f6326901006f31059f67ff37"}, "ciphertext": "f869f037646cc0c4d819be99bc35d2d63b1b2592f6b4cd60970a222f8cab646b", "kdf": "pbkdf2", "kdfparams": {"c": 1000000, "dklen": 32, "prf": "hmac-sha256", "salt": "d81f4fc332f788045c91757e4b20d980"}, "mac": "3b39c81f72b1224dfc5112f6c6b94dcafe56ea9e55d5fb9fca685876e5457013"}, "id": "a51b3447-2884-4c3a-b06f-56d9050b7352", "version": 3},
    //     "elastos");
    // const contract = new web3.eth.Contract([{"constant":false,"inputs":[{"name":"_bat
    // chSize","type":"uint256"}],"name":"batchTransfer","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_launchKey","type":"string"}],"name":"launch","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"tokenAddress","type":"address"},{"name":"amount","type":"uint256"}],"name":"lockToken","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"name":"_lockKeys","type":"bytes32[]"}],"name":"unlock","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[],"name":"withdrawEth","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"inputs":[{"name":"_launchKeyHash","type":"bytes32"},{"name":"_founders","type":"address[]"},{"name":"_keyHashSet","type":"bytes32[]"},{"name":"_launchBlockInterval","type":"uint256"},{"name":"_unlockBlockInterval","type":"uint256"},{"name":"_unlockKeyNum","type":"uint256"},{"name":"_allowedTokens","type":"address[]"}],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"name":"launchKey","type":"string"},{"indexed":false,"name":"unlockTimeoutBlock","type":"uint256"}],"name":"Launched","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"unlockAddress","type":"address"}],"name":"Unlock","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"participator","type":"address"},{"indexed":false,"name":"value","type":"uint256"},{"indexed":false,"name":"status","type":"uint8"}],"name":"Withdraw","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"name":"participator","type":"address"},{"indexed":false,"name":"tokenAddress","type":"address"},{"indexed":false,"name":"value","type":"uint256"}],"name":"Received","type":"event"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"allowedTokens","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"},{"name":"","type":"address"}],"name":"balances","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"bytes32"}],"name":"hashToKey","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"keyHashSet","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"launchKey","outputs":[{"name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"launchKeyHash","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"launchTimeoutBlock","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"ownerLaunchTimeoutBlock","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"participators","outputs":[{"name":"","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"totalLockAmount","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"unlockBlockInterval","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"unlockKeyNum","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"uint256"}],"name":"unlockKeySet","outputs":[{"name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"unlockTimeoutBlock","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"name":"","type":"address"}],"name":"validFounder","outputs":[{"name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"}]);
    // const data = contract.deploy({
    //     data: '0x60806040523480156200001157600080fd5b5060405162001fe338038062001fe3833981018060405260e08110156200003757600080fd5b810190808051906020019092919080516401000000008111156200005a57600080fd5b828101905060208101848111156200007157600080fd5b81518560208202830111640100000000821117156200008f57600080fd5b50509291906020018051640100000000811115620000ac57600080fd5b82810190506020810184811115620000c357600080fd5b8151856020820283011164010000000082111715620000e157600080fd5b505092919060200180519060200190929190805190602001909291908051906020019092919080516401000000008111156200011c57600080fd5b828101905060208101848111156200013357600080fd5b81518560208202830111640100000000821117156200015157600080fd5b505092919050505060006001028714151515620001fc576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260218152602001807f456d7074792073746172744b657948617368206973206e6f7420616c6c6f776581526020017f640000000000000000000000000000000000000000000000000000000000000081525060400191505060405180910390fd5b6000855111151562000276576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601f8152602001807f456d707479206b657948617368536574206973206e6f7420616c6c6f7765640081525060200191505060405180910390fd5b8451821115151562000316576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260348152602001807f756e6c6f636b4b65794e756d2073686f756c64206c657373207468616e206f7281526020017f20657175616c20746f206b65794861736853657400000000000000000000000081525060400191505060405180910390fd5b8660018190555084600490805190602001906200033592919062000559565b50834301600581905550600284024301600681905550826008819055508160098190555033600d60006101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060008090505b855181101562000408577f3100000000000000000000000000000000000000000000000000000000000000600260008884815181101515620003de57fe5b906020019060200201518152602001908152602001600020819055508080600101915050620003a0565b5060008090505b865181101562000497576001600e600089848151811015156200042e57fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555080806001019150506200040f565b5060008090505b815181101562000526576001600a60008484815181101515620004bd57fe5b9060200190602002015173ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060006101000a81548160ff02191690831515021790555080806001019150506200049e565b506000601060006101000a81548160ff021916908360028111156200054757fe5b021790555050505050505050620005d3565b82805482825590600052602060002090810192821562000598579160200282015b82811115620005975782518255916020019190600101906200057a565b5b509050620005a79190620005ab565b5090565b620005d091905b80821115620005cc576000816000905550600101620005b2565b5090565b90565b611a0080620005e36000396000f3fe608060405260043610610117576000357c01000000000000000000000000000000000000000000000000000000009004806317be3fa5146103b157806337248e271461040c57806338a3cb101461043757806359fffc67146104625780635cdcfadf146104b15780635d6bbd6d14610500578063827d81b01461059057806388d6ed40146106555780638da5cb5b146106805780638f671369146106d75780639109c78a14610752578063918c3e7d1461077d57806391fcb9af146107e6578063a02ae65114610811578063a0ef91df1461083c578063a217d08e14610853578063a6b3aae31461088e578063c23f001f146108f3578063cd72713214610978578063e744092e146109c7578063efc3b5db14610a30575b60028081111561012357fe5b601060009054906101000a900460ff16600281111561013e57fe5b1415151561014b57600080fd5b6000600281111561015857fe5b601060009054906101000a900460ff16600281111561017357fe5b14156101d257600e60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff1615156101d157600080fd5b5b34600b60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008282540192505081905550600c3390806001815401808255809150509060018203906000526020600020016000909192909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055505034600f60008073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055507f8cabf31d2b1b11ba52dbb302817a3c9c83e4b2a5194d35121ab1354d69f6a4cb33600034604051808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001828152602001935050505060405180910390a1005b3480156103bd57600080fd5b5061040a600480360360408110156103d457600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff16906020019092919080359060200190929190505050610af8565b005b34801561041857600080fd5b50610421610e51565b6040518082815260200191505060405180910390f35b34801561044357600080fd5b5061044c610e57565b6040518082815260200191505060405180910390f35b34801561046e57600080fd5b5061049b6004803603602081101561048557600080fd5b8101908080359060200190929190505050610e5d565b6040518082815260200191505060405180910390f35b3480156104bd57600080fd5b506104ea600480360360208110156104d457600080fd5b8101908080359060200190929190505050610e80565b6040518082815260200191505060405180910390f35b34801561050c57600080fd5b50610515610e98565b6040518080602001828103825283818151815260200191508051906020019080838360005b8381101561055557808201518184015260208101905061053a565b50505050905090810190601f1680156105825780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34801561059c57600080fd5b50610653600480360360208110156105b357600080fd5b81019080803590602001906401000000008111156105d057600080fd5b8201836020820111156105e257600080fd5b8035906020019184602083028401116401000000008311171561060457600080fd5b919080806020026020016040519081016040528093929190818152602001838360200280828437600081840152601f19601f820116905080830192505050505050509192919290505050610f36565b005b34801561066157600080fd5b5061066a611116565b6040518082815260200191505060405180910390f35b34801561068c57600080fd5b5061069561111c565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b3480156106e357600080fd5b50610710600480360360208110156106fa57600080fd5b8101908080359060200190929190505050611142565b604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390f35b34801561075e57600080fd5b50610767611180565b6040518082815260200191505060405180910390f35b34801561078957600080fd5b506107cc600480360360208110156107a057600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611186565b604051808215151515815260200191505060405180910390f35b3480156107f257600080fd5b506107fb6111a6565b6040518082815260200191505060405180910390f35b34801561081d57600080fd5b506108266111ac565b6040518082815260200191505060405180910390f35b34801561084857600080fd5b506108516111b2565b005b34801561085f57600080fd5b5061088c6004803603602081101561087657600080fd5b81019080803590602001909291905050506116a3565b005b34801561089a57600080fd5b506108dd600480360360208110156108b157600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506116a6565b6040518082815260200191505060405180910390f35b3480156108ff57600080fd5b506109626004803603604081101561091657600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190803573ffffffffffffffffffffffffffffffffffffffff1690602001909291905050506116be565b6040518082815260200191505060405180910390f35b34801561098457600080fd5b506109b16004803603602081101561099b57600080fd5b81019080803590602001909291905050506116e3565b6040518082815260200191505060405180910390f35b3480156109d357600080fd5b50610a16600480360360208110156109ea57600080fd5b81019080803573ffffffffffffffffffffffffffffffffffffffff169060200190929190505050611706565b604051808215151515815260200191505060405180910390f35b348015610a3c57600080fd5b50610af660048036036020811015610a5357600080fd5b8101908080359060200190640100000000811115610a7057600080fd5b820183602082011115610a8257600080fd5b80359060200191846001830284011164010000000083111715610aa457600080fd5b91908080601f016020809104026020016040519081016040528093929190818152602001838380828437600081840152601f19601f820116905080830192505050505050509192919290505050611726565b005b600280811115610b0457fe5b601060009054906101000a900460ff166002811115610b1f57fe5b14151515610b2c57600080fd5b60006002811115610b3957fe5b601060009054906101000a900460ff166002811115610b5457fe5b1415610bb357600e60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff161515610bb257600080fd5b5b600a60008373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060009054906101000a900460ff161515610c0b57600080fd5b60008290508073ffffffffffffffffffffffffffffffffffffffff166323b872dd3330856040518463ffffffff167c0100000000000000000000000000000000000000000000000000000000028152600401808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018281526020019350505050602060405180830381600087803b158015610ce757600080fd5b505af1158015610cfb573d6000803e3d6000fd5b505050506040513d6020811015610d1157600080fd5b81019080805190602001909291905050505081600b60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020600082825401925050819055507f8cabf31d2b1b11ba52dbb302817a3c9c83e4b2a5194d35121ab1354d69f6a4cb338484604051808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020018373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001828152602001935050505060405180910390a1505050565b60055481565b60075481565b600481815481101515610e6c57fe5b906000526020600020016000915090505481565b60026020528060005260406000206000915090505481565b60008054600181600116156101000203166002900480601f016020809104026020016040519081016040528092919081815260200182805460018160011615610100020316600290048015610f2e5780601f10610f0357610100808354040283529160200191610f2e565b820191906000526020600020905b815481529060010190602001808311610f1157829003601f168201915b505050505081565b60008090505b815181101561107a577f3100000000000000000000000000000000000000000000000000000000000000600260008484815181101515610f7857fe5b906020019060200201516040516020018082815260200191505060405160208183030381529060405280519060200120815260200190815260200160002054141561106d578181815181101515610fcb57fe5b90602001906020020151600260008484815181101515610fe757fe5b9060200190602002015160405160200180828152602001915050604051602081830303815290604052805190602001208152602001908152602001600020819055506003828281518110151561103957fe5b9060200190602002015190806001815401808255809150509060018203906000526020600020016000909192909190915055505b8080600101915050610f3c565b506009546003805490501015156110b0576002601060006101000a81548160ff021916908360028111156110aa57fe5b02179055505b7f0be774851955c26a1d6a32b13b020663a069006b4a3b643ff0b809d31826057233604051808273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200191505060405180910390a150565b60015481565b600d60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600c8181548110151561115157fe5b906000526020600020016000915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60095481565b600e6020528060005260406000206000915054906101000a900460ff1681565b60085481565b60065481565b6000600b60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020541115156112a6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260118152602001807f4e6f20656e6f7567682062616c616e636500000000000000000000000000000081525060200191505060405180910390fd5b600060028111156112b357fe5b601060009054906101000a900460ff1660028111156112ce57fe5b141561141e576005544311151561134d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601e8152602001807f43616e6e6f74207769746864726177206265666f72652074696d656f7574000081525060200191505060405180910390fd5b600d60009054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16141561141d576006544311151561141c576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601e8152602001807f43616e6e6f74207769746864726177206265666f72652074696d656f7574000081525060200191505060405180910390fd5b5b5b6001600281111561142b57fe5b601060009054906101000a900460ff16600281111561144657fe5b14156114c657600754431115156114c5576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040180806020018281038252601e8152602001807f43616e6e6f74207769746864726177206265666f72652074696d656f7574000081525060200191505060405180910390fd5b5b6000600b60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020016000205490506000600b60003373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200190815260200160002060008073ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff168152602001908152602001600020819055503373ffffffffffffffffffffffffffffffffffffffff166108fc829081150290604051600060405180830381858888f1935050505015801561160f573d6000803e3d6000fd5b507f45d9b36bb1871baeb32899cbd875ecf2aa49cfb142c4ca5fb99837aa770dd3373382601060009054906101000a900460ff16604051808473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200183815260200182600281111561168b57fe5b60ff168152602001935050505060405180910390a150565b50565b600f6020528060005260406000206000915090505481565b600b602052816000526040600020602052806000526040600020600091509150505481565b6003818154811015156116f257fe5b906000526020600020016000915090505481565b600a6020528060005260406000206000915054906101000a900460ff1681565b6005544310151561173657600080fd5b600154816040516020018082805190602001908083835b602083101515611772578051825260208201915060208101905060208303925061174d565b6001836020036101000a03801982511681845116808217855250505050505090500191505060405160208183030381529060405280519060200120141515611822576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004018080602001828103825260118152602001807f496e76616c6964206c61756e63684b657900000000000000000000000000000081525060200191505060405180910390fd5b6001601060006101000a81548160ff0219169083600281111561184157fe5b0217905550806000908051906020019061185c92919061192f565b5060085443016007819055507f6c8b4cb5018cec20ff8c88dbda4e838c0fab536fe9d2dd38644ad09e0b7b0dd66000600754604051808060200183815260200182810382528481815460018160011615610100020316600290048152602001915080546001816001161561010002031660029004801561191d5780601f106118f25761010080835404028352916020019161191d565b820191906000526020600020905b81548152906001019060200180831161190057829003601f168201915b5050935050505060405180910390a150565b828054600181600116156101000203166002900490600052602060002090601f016020900481019282601f1061197057805160ff191683800117855561199e565b8280016001018555821561199e579182015b8281111561199d578251825591602001919060010190611982565b5b5090506119ab91906119af565b5090565b6119d191905b808211156119cd5760008160009055506001016119b5565b5090565b9056fea165627a7a72305820d75326a2aa060793eaab50fd57e03a7c37fc0eaa0710d1cf0f8e74c56b02ab4b0029',
    //     arguments:['0xa70577ffc64b9f33a76d44e059c5d22a4b7fbf0464c864e69731c7e57b670298',["0x8bd4ca7b65ac97f43aeb9d2e929ea65fe277890f"],["0x2bb792524cc5d8a90fb96fe117c642250576b682f6ef0aa58236fb385259b11e"],100,100,1,[]]
    // }).encodeABI();
    // ------------ end 3

    // ------------ 4
    // const contract = new web3.eth.Contract([{"constant":false,"inputs":[{"name":"x","type":"uint256"}],"name":"set","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"get","outputs":[{"name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"}]);
    // const data = contract.deploy({
    //     data: '0x608060405234801561001057600080fd5b5060e68061001f6000396000f3fe6080604052600436106043576000357c01000000000000000000000000000000000000000000000000000000009004806360fe47b11460485780636d4ce63c14607f575b600080fd5b348015605357600080fd5b50607d60048036036020811015606857600080fd5b810190808035906020019092919050505060a7565b005b348015608a57600080fd5b50609160b1565b6040518082815260200191505060405180910390f35b8060008190555050565b6000805490509056fea165627a7a723058207a844db11b7cd3eed7c92be90c24ab99c6217015d70c4fddc898d4be738944a70029'
    // }).encodeABI();
    // const tx = {data: data, gas: "8000000", gasPrice: "200000",from :address};
    // await web3.eth.sendTransaction(tx,function(error,hash){
    //     console.info(error,hash)
    // });
    // const contract = new web3.eth.Contract([{"constant":false,"inputs":[{"name":"_addr","type":"string"},{"name":"_amount","type":"uint256"},{"name":"_fee","type":"uint256"}],"name":"receivePayload","outputs":[],"payable":true,"stateMutability":"payable","type":"function"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"name":"_addr","type":"string"},{"indexed":false,"name":"_amount","type":"uint256"},{"indexed":false,"name":"_crosschainamount","type":"uint256"},{"indexed":true,"name":"_sender","type":"address"}],"name":"PayloadReceived","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_sender","type":"address"},{"indexed":false,"name":"_amount","type":"uint256"},{"indexed":true,"name":"_black","type":"address"}],"name":"EtherDeposited","type":"event"}]);
    // const data = contract.deploy({data: "0x608060405234801561001057600080fd5b50610231806100206000396000f3006080604052600436106100405763ffffffff7c010000000000000000000000000000000000000000000000000000000060003504166367d630fa8114610045575b600080fd5b6040805160206004803580820135601f810184900484028501840190955284845261009a94369492936024939284019190819084018382808284375094975050843595505050602090920135915061009c9050565b005b3482146100a857600080fd5b655af3107a400081101580156100c357506402540be4008106155b15156100ce57600080fd5b6402540be40082061580156100f25750806100ef838263ffffffff6101f316565b10155b15156100fd57600080fd5b337f40c265d46b6f076876ffff007c9d27aeca8c4bf3ed2c655fcbce7c462a5efc048484610131818663ffffffff6101f316565b6040518080602001848152602001838152602001828103825285818151815260200191508051906020019080838360005b8381101561017a578181015183820152602001610162565b50505050905090810190601f1680156101a75780820380516001836020036101000a031916815260200191505b5094505050505060405180910390a260408051348152905160009133917f9149265b72d014f5f6b46388cbfe228d52de840dd1abc6b3f035716abaf611709181900360200190a3505050565b6000818310156101ff57fe5b509003905600a165627a7a7230582098c0041482bb46ca93b6e0025e97d536d4295e3f102184cad8c15931254dbf710029"}).encodeABI();
    // const tx = {data: data, gas: "8000000", gasPrice: "200000",from :address};
    // web3.eth.sendTransaction(tx).on("transactionHash", console.log).then(console.log) .catch(console.log);
    // ------------ end 4
    res.send("Done");
}